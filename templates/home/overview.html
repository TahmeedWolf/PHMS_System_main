{% extends 'layouts/base.html' %}

{% block title %} BioTective {% endblock title %}

<!-- Specific CSS goes HERE -->
{% block stylesheets %}{% endblock stylesheets %}

{% block content %}
<!-- Something hereeee -->
<div class="container pb-5">
    <div class="row">
      <div class="col-lg-9 col-10">
          <h1 class="p-3">Settings</h1>
      </div>
      </div>
          <div clss="card">
              <div class="text-left">
                <div class="col-lg-12">
                  {% for row in patient_record_low %}
                  <p>{{ row.glucose_level }}</p>
                  <p>{{ row.data_cgm.name }}</p>
                  {% if row.data_cgm.profile_img_url %}
                  <img src="{{ current_user.profile_img_url }}" alt="Profile" class="rounded-circle img-thumbnail" style="height:40px;">
                  {% else %}
                  <img src="https://phms-80029.s3.amazonaws.com/17.jpg" alt="Profile" class="rounded-circle img-thumbnail" style="height:40px;">
                  {% endif %}
                  {% endfor %}
                </div>
                <div class="col-lg-12">
                  {% for row in patient_record_high %}
                  <p>{{ row.glucose_level }}</p>
                  <p>{{ row.data_cgm.name }}</p>
                  {% if row.data_cgm.profile_img_url %}
                  <img src="{{ current_user.profile_img_url }}" alt="Profile" class="rounded-circle img-thumbnail" style="height:40px;">
                  {% else %}
                  <img src="https://phms-80029.s3.amazonaws.com/17.jpg" alt="Profile" class="rounded-circle img-thumbnail" style="height:40px;">
                  {% endif %}
                  {% endfor %}
                </div>
                <div class="col-lg-12">
                    <div class="card">
                      <div class="card-body">
                        <h5 class="card-title">Bar CHart</h5>
                        <!-- Bar Chart -->
                        <canvas id="barChart"></canvas>
                        <script>
                          document.addEventListener("DOMContentLoaded", () => {
                            new Chart(document.querySelector('#barChart'), {
                              type: 'bar',
                              data: {
                                labels: {{ data_glucose_hist["label"] | tojson }},
                                datasets: [{
                                  label: 'Glucose Level',
                                  data: {{ data_glucose_hist["data"] | tojson }},
                                  backgroundColor: '#203468' ,
                                  borderColor: '#203468',
                                  borderWidth: 1
                                }]
                              },
                              options: {
                                scales: {
                                  y: {
                                    // beginAtZero: true
                                    min:0
                                  }
                                },
                              }
                            });
                          });
                        </script>
                        <!-- End Bar CHart -->
          
                      </div>
                    </div>
                  </div>
                <div class="col-lg-12">
                    <div class="card">
                      <div class="card-body">
                        <h5 class="card-title">Bar CHart</h5>
                        <!-- Bar Chart -->
                        <canvas id="barChartBMI"></canvas>
                        <script>
                          document.addEventListener("DOMContentLoaded", () => {
                            new Chart(document.querySelector('#barChartBMI'), {
                              type: 'bar',
                              data: {
                                labels: {{ data_bmi_hist["label"] | tojson }},
                                datasets: [{
                                  label: 'BMI',
                                  data: {{ data_bmi_hist["data"] | tojson }},
                                  backgroundColor: '#203468' ,
                                  borderColor: '#203468',
                                  borderWidth: 1
                                }]
                              },
                              options: {
                                scales: {
                                  y: {
                                    // beginAtZero: true
                                    min:0
                                  }
                                },
                              }
                            });
                          });
                        </script>
                        <!-- End Bar CHart -->
          
                      </div>
                    </div>
                  </div>
                <div class="col-lg-12">
                    <div class="card">
                      <div class="card-body">
                        <h5 class="card-title">Bar CHart</h5>
                        <!-- Bar Chart -->
                        <canvas id="barCharthba1c"></canvas>
                        <script>
                          document.addEventListener("DOMContentLoaded", () => {
                            new Chart(document.querySelector('#barCharthba1c'), {
                              type: 'bar',
                              data: {
                                labels: {{ data_hba1c_hist["label"] | tojson }},
                                datasets: [{
                                  label: 'Hba1c',
                                  data: {{ data_hba1c_hist["data"] | tojson }},
                                  backgroundColor: '#203468' ,
                                  borderColor: '#203468',
                                  borderWidth: 1
                                }]
                              },
                              options: {
                                scales: {
                                  y: {
                                    // beginAtZero: true
                                    min:0
                                  }
                                },
                              }
                            });
                          });
                        </script>
                        <!-- End Bar CHart -->
          
                      </div>
                    </div>
                  </div>
              </div>
          </div>
          <br>
  
    {% endblock content %}

<!-- Specific JS goes HERE --> 
{% block javascripts %}{% endblock javascripts %}